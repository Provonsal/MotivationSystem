# Документация API рутов

## Оглавление

1. **[/password](#servercom8000password)**
2. **[/salary/month](#servercom8000salarymonth)**
3. **[/rating](#servercom8000rating)**
4. **[/deals](#servercom8000deals)**
5. **[/register](#servercom8000register)**
6. **[/test](#servercom8000test)**

---

### server.com:8000/password

Функция для проверки данных для входа, принимает в теле запроса пароль и логин и находит человека с таким логином, его id
и сравнивает логин и пароль в БД с переданными в запросе.

Если совпадает, то возвращает результат ok и id найденного человека, и его ФИО.

В запросе:  
`{"login": ...}`

В ответе:  
`{"result": "ok", "id": id, "firstname": ..., "lastname": ..., "surname": ...}`

либо, если что-то не так:  
`HTMLResponse 400` | `HTMLResponse 422`.

---

### server.com:8000/salary/month

Функция принимает в теле id пользователя и месяц за который нужно получить зарплату и его премию.

В запросе:  
`{"id": ..., "month": ...}`

В ответе:  
`"result": "ok", "salary": ..., "bonus": ...}`
  
либо, если что-то не так:  
`HTMLResponse 400` | `HTMLResponse 422`.

---

### server.com:8000/rating

Функция выдает список всех людей, упорядоченный по сумме их оклада, от большего к меньшему.

В запросе:  
`{}`

В ответе:  
`"result": "ok", [{"id": ..., "name": ..., "surname": ..., "lastname": ..., "salary": ..., "bonus": ...}, ...]}`  
  
либо, если что-то не так:  
`HTMLResponse 400`

---

### server.com:8000/deals

Функция выдает список сделок пользователя, упорядоченный по дате, от свежих, к старым. По умолчанию за текущий месяц.

В запросе:  
`{"id": ...}`

В ответе:  
`"result": "ok", [{"deal_id": ..., "sum": ..., "percent": ..., "deal_start_date": ..., "deal_end_date": ..., "selled": ...}, ...]}`  
  
либо, если что-то не так:  
`HTMLResponse 400`

---

### server.com:8000/register

Функция для регистрации пользователя в системе. Принимает в теле запроса имя, фамилию и отчество.

В запросе:  
`{"name": ..., "surname": ..., "lastname": ...}`

В ответе:  
`"result": "ok", "login": ..., "password": ...}`  
  
либо, если что-то не так:  
`HTMLResponse 400`

### server.com:8000/test

Функция для ввода тестовых данных.

В запросе:  
`{}`

В ответе:  
`HTMLResponse 200`
  
либо, если что-то не так:  
`HTMLResponse 400`
